<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Acquisition Data · Julia MRI Package</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Julia MRI Package logo"/></a><h1>Julia MRI Package</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="gettingStarted.html">Getting Started</a></li><li class="current"><a class="toctext" href="acquisitionData.html">Acquisition Data</a><ul class="internal"><li><a class="toctext" href="#Raw-1">Raw</a></li><li><a class="toctext" href="#Preprocessed-1">Preprocessed</a></li></ul></li><li><a class="toctext" href="filehandling.html">File Handling</a></li><li><a class="toctext" href="image.html">Images</a></li><li><a class="toctext" href="offresonance.html">Offresonance</a></li><li><a class="toctext" href="SENSE.html">Parallel Imaging</a></li><li><a class="toctext" href="trajectories.html">Trajectory</a></li><li><a class="toctext" href="operators.html">Imaging Operators</a></li><li><a class="toctext" href="simulation.html">Simulation</a></li><li><a class="toctext" href="reconstruction.html">Reconstruction</a></li><li><a class="toctext" href="API.html">API</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="acquisitionData.html">Acquisition Data</a></li></ul><a class="edit-page" href="https://github.com/MagneticResonanceImaging/MRIReco.jl/blob/master/docs/src/acquisitionData.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Acquisition Data</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Acquisition-Data-1" href="#Acquisition-Data-1">Acquisition Data</a></h1><p>There are two different forms of acquisition data types in <code>MRIReco</code>:</p><ul><li><code>RawAcquisitionData</code></li><li><code>AcquisitionData</code></li></ul><p>While the former is used to hold the data in the form, how it will be written out from the scanner, the later has already performed some data permutations bringing the data into the shape how the reconstruction expects it.</p><h2><a class="nav-anchor" id="Raw-1" href="#Raw-1">Raw</a></h2><p>The <code>RawAcquisitionData</code> is a data type that closely resembles the ISMRMRD data format. It looks like</p><pre><code class="language-julia">mutable struct RawAcquisitionData
  params::Dict{String, Any}
  profiles::Vector{Profile}
end</code></pre><p>with</p><pre><code class="language-julia">mutable struct Profile
  head::AcquisitionHeader
  traj::Array{Float32,2}
  data::Array{Complex{Float32},2}
end</code></pre><p>The <code>params</code> member of <code>RawAcquisitionData</code> is basically the a flattened dictionary derived from the XML part of an ISMRMRD file. A <code>Profile</code> describes the data measured after a single excitation during an MRI experiment. It has members <code>head</code>, <code>traj</code>, and <code>data</code>, which exactly resemble the structures specified by the ISMRMRD file format. See <a href="???">here</a> for more details.</p><h2><a class="nav-anchor" id="Preprocessed-1" href="#Preprocessed-1">Preprocessed</a></h2><p>The <code>RawAcquisitionData</code> can be preprocessed into a form, which makes it more convenient for reconstruction algorithms. The <code>AcquisitionData</code> type looks like</p><pre><code class="language-julia">mutable struct AcquisitionData
  sequenceInfo::Dict{Symbol,Any}
  traj::Vector{Trajectory}
  kdata::Array{Matrix{ComplexF64},3}
  subsampleIndices::Vector{Array{Int64}}
  encodingSize::Vector{Int64}
  fov::Vector{Float64}
end</code></pre><p>It consists of the sequence informations stored in a dictionary, the k-space trajectory, the k-space data, and several parameters describing the dimension of the data and some additional index vectors.</p><p>The k-space data <code>kdata</code> has three dimensions encoding</p><ol><li>dim : contrasts/echoes</li><li>dim : slices</li><li>dim : repetitions</li></ol><p>Each element is a matrix encoding</p><ol><li>dim : k-space nodes</li><li>dim : channels/coils</li></ol><p>In case of undersampled data, the subsampling indices are stored in <code>subsampleIndices</code>. One check if the data is undersampled by checking if <code>isempty(subsampleIndices)</code>.</p><p>The encoded space is stored in the field <code>encodingSize</code>. It is especially relevant for non-Cartesian trajectories where it is not clear upfront, how large the grid size for reconstruction should be chosen. Finally <code>fov</code> describes the physical lengths of the encoding grid.</p><footer><hr/><a class="previous" href="gettingStarted.html"><span class="direction">Previous</span><span class="title">Getting Started</span></a><a class="next" href="filehandling.html"><span class="direction">Next</span><span class="title">File Handling</span></a></footer></article></body></html>
